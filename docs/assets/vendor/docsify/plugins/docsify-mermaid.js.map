{"version":3,"sources":["plugin.js","index.js"],"names":["plugin","mermaidConf","hook","afterEach","html","next","htmlElement","document","createElement","innerHTML","querySelectorAll","forEach","element","replacement","textContent","classList","add","parentNode","replaceChild","ready","mermaid","run","window","$docsify","props","mermaidConfig","querySelector","plugins","concat"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAG,SAATA,MAAS,CAACC,WAAD;AAAA,SAAiB,UAACC,IAAD,EAAU;AAEtCA,IAAAA,IAAI,CAACC,SAAL,CAAe,UAACC,IAAD,EAAOC,IAAP,EAAgB;AAC3B;AACA,UAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACAF,MAAAA,WAAW,CAACG,SAAZ,GAAwBL,IAAxB;AAEAE,MAAAA,WAAW,CAACI,gBAAZ,CAA6B,wBAA7B,EAAuDC,OAAvD,CAA+D,UAACC,OAAD,EAAa;AACxE;AACA,YAAMC,WAAW,GAAGN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACAK,QAAAA,WAAW,CAACC,WAAZ,GAA0BF,OAAO,CAACE,WAAlC;AACAD,QAAAA,WAAW,CAACE,SAAZ,CAAsBC,GAAtB,CAA0B,SAA1B,EAJwE,CAMxE;;AACAJ,QAAAA,OAAO,CAACK,UAAR,CAAmBC,YAAnB,CAAgCL,WAAhC,EAA6CD,OAA7C;AACH,OARD;AAUAP,MAAAA,IAAI,CAACC,WAAW,CAACG,SAAb,CAAJ;AACH,KAhBD;AAkBAP,IAAAA,IAAI,CAACiB,KAAL,CAAW;AAAA,aAAMC,OAAO,CAACC,GAAR,CAAYpB,WAAZ,CAAN;AAAA,KAAX;AAEH,GAtBc;AAAA,CAAf;;eAwBeD;;;;;ACxBf;;;;AAEA,IAAI,CAACsB,MAAM,CAACC,QAAZ,EAAsB;AAClBD,EAAAA,MAAM,CAACC,QAAP,GAAkB,EAAlB;AACH;;AAED,IAAMC,KAAK,GAAGF,MAAM,CAACC,QAAP,CAAgBE,aAAhB,IAAiC;AAAEC,EAAAA,aAAa,EAAE;AAAjB,CAA/C;AAEAJ,MAAM,CAACC,QAAP,CAAgBI,OAAhB,GAA0B,CAACL,MAAM,CAACC,QAAP,CAAgBI,OAAhB,IAA2B,EAA5B,EAAgCC,MAAhC,CAAuC,qBAAOJ,KAAP,CAAvC,CAA1B","file":"docsify-mermaid.js","sourceRoot":"../src","sourcesContent":["const plugin = (mermaidConf) => (hook) => {\n\n    hook.afterEach((html, next) => {\n        // We load the HTML inside a DOM node to allow for manipulation\n        const htmlElement = document.createElement('div');\n        htmlElement.innerHTML = html;\n\n        htmlElement.querySelectorAll('pre[data-lang=mermaid]').forEach((element) => {\n            // Create a <div class=\"mermaid\"> to replace the <pre> \n            const replacement = document.createElement('div');\n            replacement.textContent = element.textContent;\n            replacement.classList.add('mermaid');\n\n            // Replace\n            element.parentNode.replaceChild(replacement, element);\n        });\n\n        next(htmlElement.innerHTML);\n    });\n\n    hook.ready(() => mermaid.run(mermaidConf));\n\n};\n\nexport default plugin;","import plugin from './plugin';\n\nif (!window.$docsify) {\n    window.$docsify = {}\n}\n\nconst props = window.$docsify.mermaidConfig || { querySelector: \".mermaid\" };\n\nwindow.$docsify.plugins = (window.$docsify.plugins || []).concat(plugin(props));"]}